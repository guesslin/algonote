<html lang="zh-TW"><head><meta charset="UTF-8" /><link rel="stylesheet" href="style.css" />
<title>演算法筆記 - Computer Engineering</title></head><body>
<div class="a"><div class="h">
<p class="b">Computer</p>
</div><div class="c">
<p class="t">Computer</p>
<p>計算機。台灣譯作電腦。一台可以實施數學運算的機器。</p>
<p>製作電腦屬於電子系、電機系的專長。台灣的電腦工業，產業結構相當成熟，產品行銷全球。你想的到的電腦零件、電腦成品，例如硬碟、光碟機、記憶體、主機板、螢幕、桌機、筆電、滑鼠等等，都有專門公司在研發。即便是電腦回收商，也堪稱一流。</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/HxnxqJfnUhg"></iframe>--></div>
<p class="t">Program</p>
<p>程式。控制電腦運作的指令。</p>
<p>操控電腦屬於資工系的專長。可以分為程式語言、程式設計。</p>
<p>程式語言。<a href="http://en.wikipedia.org/wiki/Assembly_language">組合語言</a>：控制中央處理器，例如x86。<a href="http://en.wikipedia.org/wiki/Programming_language">程式語言</a>：控制電腦運作，例如C、C++、Rust、Java、Python、Ruby。其他類型的語言：描述資料與操作資料，例如HTML、SQL、VHDL。以及<a href="https://www.wolfram.com/language/">前幾年剛出現的新型態語言</a>。</p>
<p>程式語言是人工產物，有嚴謹的規格書，以便精準地控制電腦運作。常用的程式語言，坊間已經充斥大量書籍，網路上已經充斥大量互動式學習資源，學習難度極低，甚至可以無師自通。</p>
<p>程式設計。簡單來說就是編寫程式。程式語言的學習資料非常多，但是程式設計的學習資料非常少。有些書教你如何把程式寫漂亮，例如code complete；有些書教你如何規劃程式碼，例如head first ooad；但是目前還沒有一本書是談論如何編寫程式解決問題。對於程式設計，現今世界上還沒有一套明確的見解，也沒有一條明確的學習路徑。大家現在多半把程式設計當作是一種具有靈性的藝術創作，特別強調天資這回事。</p>
<p>程式設計最近獲得重視。美國業界以及政府正在倡導<a href="http://hourofcode.com/us">人人都要有程式思維</a>，規劃學習進度、培育相關師資，進一步推動<a href="http://csedweek.org/">計算機科學教育</a>。也有研究單位正在探索<a href="https://scratch.mit.edu/">程式設計的本質</a>，設計適合中小學生學習的程式語言，發掘程式設計如何影響孩童的思考與行為。</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/FC5FbmsH4fw"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/nKIu9yen5nc"></iframe>--></div>
<p>儘管看似前途美好，台灣的現況卻非常悽慘、非常腐敗。</p>
<p>以學界而言，許多大學教授的水準，不如自學的中學生。比如<a href="http://www.books.com.tw/products/0010509876">引入計算機科學的先驅，只寫得出虛有其表的爛教材</a>。資工系畢業生，一個班級只有兩三人學會寫程式。</p>
<p>以業界而言，寫程式的人普遍是藍領勞工，寫程式沒有一套穩定的管理機制，人力流動相當頻繁。只要去<a href="http://www.iiiedu.org.tw/taipei/">補習班</a>接受短期訓練，就能寫程式，完全不必經過資工系的專業訓練。</p>

</div></div><div class="a"><div class="h">
<p class="b">Database</p>
</div><div class="c">
<p class="t">Database</p>
<p><a href="http://en.wikipedia.org/wiki/Database">資料庫</a>。簡單來說，就是硬碟，存放大量資料的東西。</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/DNp6kXr1ung"></iframe>--></div>
<p>資料庫可以分成硬體層面和軟體層面。硬體層面的經典主題，例如<a href="http://en.wikipedia.org/wiki/RAID">備份與還原</a>、<a href="http://en.wikipedia.org/wiki/Replication_(computing)">鏡像與同步</a>、<a href="http://en.wikipedia.org/wiki/Fault_tolerance">容錯</a>等等。通常學校課程不會教到，相關技術已被商業壟斷。</p>
<p>軟體層面的經典主題，例如<a href="http://en.wikipedia.org/wiki/Database_schema">資料庫架構</a>：資料的格式以及存取資料的模式，<a href="http://en.wikipedia.org/wiki/Database_normalization">資料庫正規化</a>：歸類資料的方式，<a href="http://zh.wikipedia.org/wiki/SQL">資料庫查詢語言</a>：查詢資料的指令。學校課程就會教到。</p>
<p>除了存儲資料以外，通常我們還想靈活運用資料，例如<a href="http://en.wikipedia.org/wiki/Information_retrieval">資訊檢索</a>、<a href="http://en.wikipedia.org/wiki/Data_mining">資料探勘</a>、<a href="http://en.wikipedia.org/wiki/Data_visualization">資料視覺化</a>，從資料庫當中挖掘訊息、產生報表，為己所用。最近媒體吹捧的口號「<a href="http://en.wikipedia.org/wiki/Big_data">Big Data</a>」就是活用資料庫的意思。</p>
<p>資料庫是相當務實的學問。國民的戶政財政資料、線上文章音樂影片、打卡訂票、字典圖書等等，資料庫無所不在。稍具規模的公司行號，就需要資料庫儲存資料。理所當然地，當今世上規模最大的軟體公司，就是資料庫公司Oracle。資料庫是資工系必修學科，就連公務員考試也要考資料庫，重要程度可見一斑。</p>
<p class="t">Search Engine</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/hF515-0Tduk"></iframe>--></div>
<div class="z"><!--<iframe src="http://embed.ted.com/talks/lang/zh-tw/eli_pariser_beware_online_filter_bubbles.html"></iframe>--></div>
<p>搜尋引擎。從資料庫當中尋找資料的工具，已經變成現代人不可或缺的工具。遇到不明白的事情，馬上用手機上網搜尋一下資料。</p>
<p>我們往往希望找到最精準、最重要、最完善的資料。因此搜尋引擎的排名結果，變成大家最關注的事情。搜尋引擎製作者致力於提供好的排名，好的排名使得大家更容易汲取知識。然而排名有時候也是一種變相的資訊鉗制。搜尋引擎公司可以藉由調整排名，控制你對世界的看法。</p>
<p>大家重視排名，進而發展出「<a href="http://zh.wikipedia.org/wiki/搜尋引擎最佳化">搜尋引擎最佳化</a>」的概念：如何調整自家網站的內容，以提高排名？提高排名有益於提高公司曝光度、增加生意。大公司甚至花錢請搜尋引擎公司幫忙提高排名。搜尋引擎公司為了在道德和利益之中取得平衡，轉而提供了廣告機制，在搜尋結果當中，把大公司的網站放在第一名的上面，皆大歡喜。</p>

</div></div><div class="a"><div class="h">
<p class="b">Network</p>
</div><div class="c">
<p class="t">Network</p>
<p><a href="http://en.wikipedia.org/wiki/Computer_network">網路</a>。簡單來說，就是多地之間的訊息傳送機制。</p>
<p>網路分為硬體層面和軟體層面。硬體層面屬於電子電機電信通訊科系的專長，台灣業界的技術相當傑出，新知多半不在學界、而在業界。經典主題如下：</p>
<p>一、通訊媒介：電流（網路線、電話線）、電波（無線網路、RFID）、光波（光纖）。</p>
<p>二、電路設計：協定、封包、編碼、串流、多工、分流。</p>
<p>三、網路佈署：衛星、基地台、AP、電纜。</p>
<p>軟體層面屬於資管資工科系的專長，已有<a href="http://williamstallings.com/">豐富的教材</a>，但是只有觀念、沒有實務，大家都是自己亂搞。經典主題如下：</p>
<p>一、<a href="http://en.wikipedia.org/wiki/Network_management">網路管理</a>。細分為<a href="http://en.wikipedia.org/wiki/Local_area_network">網路環境</a>（IP、DNS、區域網路、設備維護）、<a href="http://en.wikipedia.org/wiki/Network_service">網路服務</a>（帳戶權限、流量監控、資源整合）、<a href="http://en.wikipedia.org/wiki/Network_security">網路安全</a>（firewall/VPN/proxy）。順帶一提，台灣人把<a href="http://en.wikipedia.org/wiki/Network_administrator">網路管理</a>、<a href="http://en.wikipedia.org/wiki/System_administrator">系統管理</a>通通當作同一件事情，叫做<a href="http://en.wikipedia.org/wiki/Management_information_system">資訊系統管理</a>。</p>
<p>二、<a href="http://www.unixnetworkprogramming.com/">網路程式設計</a>。編寫程式控制訊息傳輸，諸如<a href="http://en.wikipedia.org/wiki/Broadcasting">廣播</a>、<a href="http://en.wikipedia.org/wiki/Routing">路由</a>。已有<a href="http://www.kohala.com/start/#books">經典著作</a>、<a href="http://beej-zhtw.netdpi.net/">中文翻譯</a>、<a href="http://www.tenouk.com/cnlinuxsockettutorials.html">程式範例</a>。知名函式庫如<a href="http://think-async.com/Asio">Asio</a>。知名應用如即時通訊軟體、社群網站、影音網站、自動線上更新、即時轉播、P2P軟體。</p>
<p>三、<a href="http://en.wikipedia.org/wiki/Capture_the_flag#Computer_security">網路攻防</a>。鑽研網路與作業系統的運作細節，是「資訊安全」領域之中的重要環節。台灣現況是<a href="https://www.google.com.tw/search?q=hitcon">由台大交大台科大在學學生主導</a>，而台灣業界的技術似乎還停留在十五年前的水平：網路封包分析、弱點掃描（從檔案裡搜尋關鍵字）。</p>
<p>四、<a href="http://en.wikipedia.org/wiki/Network_theory">網路理論</a>。研究網路結構的數學性質。例如<a href="http://en.wikipedia.org/wiki/HITS_algorithm">Link Analysis</a>。知名應用如<a href="https://en.wikipedia.org/wiki/Social_network">社交網路分析</a>、<a href="http://www.zhihu.com/question/24143504">學術搜尋</a>。</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/6a_KF7TYKVc"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/UxsACr2d-iA"></iframe>--></div>
<div class="pre">
社會學家、計算學家想藉由社交網路。
了解人類群聚的模式、了解人類的文化。

利用數學當中的圖論，
以圖論的性質來分析社交網路，
例如直徑、連通度、最短路徑等等。
人與人之間的關係竟然是意外的近。
（若有興趣請搜尋「六度分隔理論 Six degrees of separation」）

除了人與人之間的關係，
也有人研究網站與網站之間、人與網站之間的關係。
藉由每個人的電子信箱通訊錄、瀏覽的網頁，就能製作出一個網路。
企業藉以分析消費族群，設定廣告對象，抓住行銷的大方向。
除了網路業者以外，電信業者、政府機關等這些擁有龐大資料的單位，
也都有機會用到社交網路進行分析，
依據網路發展情況，適當的分配資源。
因為規模大，所以背後的利益也就相當大了。
</div>
<p class="t">Distributed System</p>
<p>分散式系統。有了網路之後，資料不必齊聚一地，而是分散各處，再利用網路互通有無。</p>
<p><a href="http://research.google.com/people/jeff/">http://research.google.com/people/jeff/</a></p>
<p>分散式系統有一個極重要的特色是「分散式計算」：運用多台電腦，分工合作處理資料，又快又好。相關工具有Apache Spark、Apache Flink，是當前的研究熱點。</p>
<p>將來甚至可以實現：資料不必儲存在自己的電腦，而是儲存在別處的資料庫。以後的電腦和手機，只要具備輸入、輸出、連線、充電的功能就足夠了，至於儲存、計算的功能通通交給大型伺服器叢集。藉由分散式系統迅速取得資料，藉由分散式計算迅速得到計算結果。</p>

</div></div><div class="a"><div class="h">
<p class="b">Operating System</p>
</div><div class="c">
<p class="t">Operating System</p>
<p><a href="http://en.wikipedia.org/wiki/Operating_system">作業系統</a>。整合所有電腦功能，方便人類操控的系統。有名的作業系統如Microsoft Windows、Mac OS、Linux、Android。使用作業系統，應該不必介紹，熟能生巧。開發作業系統，有如工程建設，細節繁複。</p>
<p>想要學習如何使用作業系統，Microsoft Windows大家都是自己摸索、科普書籍、社會大學、電腦才藝班、<a href="http://puncar.tw/">胖卡</a>；Linux可以參考<a href="http://linux.vbird.org/">鳥哥的Linux私房菜</a>。</p>
<p>想要學習如何開發作業系統，把Unix Programming、Linux Kernel摸個精通就差不多了。儘管這是資工系必修課程，但是台灣學校清一色只教觀念、不教實務，有教等於沒教。所幸坊間已有大量書籍與課程，可以自學。</p>
<p class="e">UVa 10435 10966 142 ICPC 4392 7588 UVa 1682</p>
<p class="t">Embedded System</p>
<p><a href="http://en.wikipedia.org/wiki/Embedded_system">嵌入式系統</a>。把電腦安裝在電子設備裡面之後，嘗試用電腦控制設備。</p>
<p>台灣的電子產業不同凡響，產品行銷全球（先進國家不想碰的吃力不討好的高汙染工作，台灣撿來做）。受到電子產業庇蔭，嵌入式系統獲得發展契機。有了嵌入式系統的學問，就能用電腦控制電子設備；接著配合演算法的學問，就能完成各式各樣的神奇任務。</p>
<p>學習嵌入式系統，目前可以從單板機、單片機（單晶片）（微控制器）、微處理器下手。<a href="http://en.wikipedia.org/wiki/Single-board_computer">單板機</a>，例如Arduino和Raspberry Pi，民間最近正在流行，坊間已有書籍和課程。<a href="http://en.wikipedia.org/wiki/Microcontroller">單片機</a>，例如MCS-51（8051）、PIC，是高職電子科的課程內容。<a href="http://en.wikipedia.org/wiki/Microprocessor">微處理器</a>，例如ARM架構，<a href="http://wiki.csie.ncku.edu.tw/User/jserv">民間人士</a>比起學者還出名。</p>

</div></div><div class="a"><div class="h">
<p class="b">User Interface</p>
</div><div class="c">
<p class="t">User Interface</p>
<p><a href="http://en.wikipedia.org/wiki/User_interface">使用者介面</a>。電腦與人類溝通的介面。發展歷程是讀卡機、<a href="http://en.wikipedia.org/wiki/Text-based_user_interface">文字介面</a>、<a href="http://en.wikipedia.org/wiki/Graphical_user_interface">圖形介面</a>、<a href="http://en.wikipedia.org/wiki/Tangible_user_interface">實體介面</a>。</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/zo1n5CyCKr0"></iframe>--></div>
<p>台灣完全沒有相關課程。即便是經典的文字介面、圖形介面，台灣也沒人談論設計原理。光是使用別人已經設計好的、完善俱全的函式庫，大多數人就已經油盡燈枯了。</p>
<p class="t">Human-Computer Interaction</p>
<p><a href="http://en.wikipedia.org/wiki/Human–computer_interaction">人機互動</a>。研究人與機器如何互動，然後設計機器、設計互動模式。已經稍微脫離計算機科學的範疇，和計算機科學的關係不是那麼密切。</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/lvtfD_rJ2hE"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/RRDSj62tlvQ"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/Q5zadUSc900"></iframe>--></div>
<p>台灣完全沒有相關課程。雖然資工系有名稱類似的實驗室，事實上卻把重心放在手機APP、觸控螢幕、電子書等等，你懂的。所幸台灣的電子界和設計界相當傑出，仍有人努力研究。</p>
<pre>
<a href="http://mmdays.com/2013/10/23/">http://mmdays.com/2013/10/23/</a>
<a href="http://code.arc.cmu.edu/">http://code.arc.cmu.edu/</a>
<a href="http://designhash.com/best-mobile-ui-design-patterns-sites/">http://designhash.com/best-mobile-ui-design-patterns-sites/</a>
<a href="http://www.designinterface.jp/en/projects/">http://www.designinterface.jp/en/projects/</a>
<a href="http://www.youtube.com/watch?v=cqma5AHE4b4">✔7 Things you didn't know existed</a>
</pre>
<p>Projection Keyboard</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/g0qARDGJj1w"></iframe>--></div>
<p>Sketch</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/-lQGDAPGxIY"></iframe>--></div>
<p>Gesture Control</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/DuUVIat40YU"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/_d6KuiuteIA"></iframe>--></div>
<p>Wireless</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/dX37LFv8jWY"></iframe>--></div>
<p>NPC</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/xyFZl7lCz_s"></iframe>--></div>
<p>擁抱</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/dDqIVzCRAr8"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/PspagsTFvlg"></iframe>--></div>

</div></div><div class="a"><div class="h">
<p class="b">Software</p>
</div><div class="c">
<p class="t">Software</p>
<p><a href="http://en.wikipedia.org/wiki/Software">軟體</a>。達成特定任務的程式。民間最近流行手機APP，就是在手機上面執行的軟體。「<a href="http://en.wikipedia.org/wiki/Software_engineering">軟體工程</a>」旨在研究如何開發軟體。</p>
<p>開發軟體，需要學習程式設計，學習現成工具，學習經驗觀念。</p>
<p>程式設計相關：控制電腦行為Java/C#/Objective C，軟體開發框架Struts/Spring/Hibernate，程式設計觀念coding convention/defensive programming/OOAD/refactoring，專案管理觀念UML/SVN/testing/code review/PMP等等。族繁不及備載。</p>
<p>網路相關：客戶端控制瀏覽器行為HTML/CSS/Javascript，伺服器端生成網頁PHP/JSP/ASP，網頁開發框架Ruby on Rails，網頁模板。</p>
<p>想要開發軟體，一種方式是活用這些東西，另一種方式是開發這些東西。前者較容易，坊間書籍不可勝數，網路資源唾手可得，學習難度非常低。後者較困難，必須深入理解計算機科學。台灣的現實情況是：幾乎所有軟體工作都屬於前者，門外漢稍作訓練就趕鴨子上架，學徒都靠自己摸索，講師通常也是學徒。台灣人把工具叫做技術，把使用工具的人通通叫做工程師，一群工程師常常相邀參加技術研討大會互相取暖，最後依然培養不出聞名國際的專家。就跟民眾學攝影的心態一模一樣。</p>
<p>軟體工程，很少人以科學方式進行研究，多半是經驗談，是個嘴砲成分很高的領域。現時流行的事物，常常是媒體炒作出來的，而不是受到嚴謹考驗後的適存者。反正出錯了也不會死人、也不會被告，只要發布更新就好，導致大家隨興亂搞一通。</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/BKorP55Aqvg"></iframe>--></div>
<p>台灣的硬體業方興未艾，台灣的軟體業則是完全相反，爛泥扶不上牆。主要是因為軟體業有一些特別的地方：</p>
<p>一、開發軟體只仰賴人力（腦力），不仰賴其他資源。即便投入各種資源，諸如金錢、時間、設備、能源等等，仍舊無法控制生產成果。唯一成功的方法，就是廣納奇才。而台灣顯然沒有那麼多奇才。</p>
<p>二、複製軟體不需要成本，發行軟體不需要太多成本。即便掌握各種資源，仍舊無法控制市場走向。軟體品質決定一切。</p>
<p>三、開發軟體只仰賴人力（腦力），更精確來說是數學──畢竟計算機是計算數學的機器。想要掌控軟體研發進度，源自自身對於數學的敏感程度。而台灣顯然沒有那麼多數學又棒、膽識又大、喜歡做軟體的人。</p>
<p>大家退而求其次，抱樸守拙，鑽研有規格書的、可以按表操課的東西，如程式語言、作業系統、函式庫。於是台灣軟體業就變成現在這樣，ERP、資訊服務APP，剩下的惦惦吃三碗公，沒了。</p>
<p>最後大家只好開始提倡開源軟體。</p>
<p class="t">Game</p>
<p><a href="http://en.wikipedia.org/wiki/Video_game">遊戲</a>。經典主題諸如<a href="http://en.wikipedia.org/wiki/Game_controller">遊戲控制器</a>、<a href="http://allenchou.net/game-physics-series/">遊戲物理</a>、<a href="http://en.wikipedia.org/wiki/Artificial_intelligence_(video_games)">遊戲人工智慧</a>、<a href="http://en.wikipedia.org/wiki/Game_engine">遊戲引擎</a>。知名函式庫如DirectX、SFML、SDL。知名遊戲引擎如<a href="http://unity3d.com/">Unity</a>、<a href="http://www.unrealengine.com">Unreal</a>。知名商業平台如Steam。</p>
<pre>
http://bbs.gamer.com.tw/#MITpcgame:a:6293
http://home.gamer.com.tw/creationDetail.php?sn=2249441
http://chenglap-blog.logdown.com/posts/161716
http://blog.monkeypotion.net/gamedev/career/why-you-shall-not-enter-game-industry-2011
http://www.u-acg.com/archives/3922
http://simonsays-tw.com/web/lodeRunner/lodeRunner.html
http://phoenotopia.com/
</pre>
<pre>
大師談Java遊戲設計
大師談遊戲設計: 核心技術與演算法
</pre>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/QyjyWUrHsFc"></iframe>--></div>
<p>遊戲控制器：例如鍵盤控制。上下左右切換很快時，有時候同時按到左和右（上和下）。如果沒有正確處理，角色就會卡住不動。</p>
<p>一般來說，左和右兩者都按著，是以最後按下去的按鍵為主。左和右放開其中一個，是以還按著的按鍵為主。</p>
<p>作業系統處理鍵盤事件，是循序的；兩個鍵盤事件，必定一前一後。就算玩家一口氣按下多個按鍵，寫程式時仍是逐一處理。</p>
<p>click to trigger animation. press arrow key to move fighter. press enter to restart.</p>
<canvas id="canvas2" width="200" height="200"></canvas>
<script>
var _2_ = function() {
var audD = new Audio(); audD.src = "material/boo.wav"; audD.load();
var imgC = new Image(); imgC.src = "material/center.gif";
var imgL = new Image(); imgL.src = "material/left.gif";
var imgR = new Image(); imgR.src = "material/right.gif";

var canvas = document.getElementById("canvas2");
var ctx = canvas.getContext("2d");

// fighter
var N = 111, t = 0;
var px = new Array(N), py = new Array(N);
//for (var i=0; i<N; ++i) {px[i] = py[i] = -100;}

var r = 2, speed = 2;
var x = canvas.width / 2, y = canvas.height / 2;
var xp = 0, xn = 0, yp = 0, yn = 0, dx = 0, dy = 0, life = 1, clock = 0;
canvas.onkeydown = function(event) {
	event = event || window.event;
	event.preventDefault();
	if (event.which == 13) {game_init(canvas.width/2, canvas.height/2); return;}//enter
	if (!life) return;
	switch(event.which) {
	case 37: xn=-1; dx=-1; break;//left
	case 38: yn=-1; dy=-1; break;//up
	case 39: xp=+1; dx=+1; break;//right
	case 40: yp=+1; dy=+1; break;//down
	}
};
canvas.onkeyup = function(event) {
	event = event || window.event;
	event.preventDefault();
	if (!life) return;
	switch(event.which) {
	case 37: xn=0; dx=xp; break;//left
	case 38: yn=0; dy=yp; break;//up
	case 39: xp=0; dx=xn; break;//right
	case 40: yp=0; dy=yn; break;//down
	}
};

var id = 0;
canvas.tabIndex = 2;
canvas.style.position = "relative";
canvas.style.background = "black";
canvas.onclick = function(event) {
	_x = event.layerX;
	_y = event.layerY;
	game_init(_x, _y);
};
//canvas.onfocus = function(){};
canvas.onblur = function(){clearInterval(id);};
function game_init(_x, _y) {
	clearInterval(id);

	x = _x; y = _y;
	t = 0;
	xp = 0, xn = 0, yp = 0, yn = 0, dx = 0, dy = 0; life = 1; clock = 0;
	for (var i=0; i<N; ++i) {px[i] = py[i] = -100;}
	for (var i=0; i<BN; ++i) {bullet_init(i);} //depend on clock

	id = setInterval(Train99, 20);
}

// bullet
var BN = 30;
var bx = new Array(BN), by = new Array(BN);
var bdx = new Array(BN), bdy = new Array(BN);
var br = new Array(BN);
var bfill = new Array(BN), bstroke = new Array(BN);
//for (var i=0; i<BN; ++i) {bullet_init(i);}

var border = 10, bspeed = 1, bradius = 2;
function bullet_init(i) {
	var d = Math.floor(Math.random() * 8);
	bdx[i] = Math.ceil(Math.random() * bspeed);
	bdy[i] = Math.ceil(Math.random() * bspeed);
	if (d & 1) {
		bx[i] = Math.round(Math.random() * (canvas.width + border * 2));
		if (d & 2) by[i] = canvas.height + border; else by[i] = -border;
		if (d & 2) bdy[i] = -bdy[i];
		if (d & 4) bdx[i] = -bdx[i];
	} else {
		by[i] = Math.round(Math.random() * (canvas.height + border * 2)); 
		if (d & 2) bx[i] = canvas.width  + border; else bx[i] = -border;
		if (d & 2) bdx[i] = -bdx[i];
		if (d & 4) bdy[i] = -bdy[i];
	}

	br[i] = bradius;
	if (clock >= 1500) br[i] *= 2;
	if (clock >= 3000) br[i] *= 2;
	if (clock >= 4500) br[i] *= 2;

	var cc = clock % 1500;
	if (cc < 250)      {bfill[i] = "green";  bstroke[i] = "yellow";}
	else if (cc < 500) {bfill[i] = "red";    bstroke[i] = "yellow"; bdx[i] *= 2; bdy[i] /= 2;}
	else if (cc < 750) {bfill[i] = "navy";   bstroke[i] = "blue";   bdx[i] /= 2; bdy[i] /= 2;}
	else if (cc < 1250){bfill[i] = "orange"; bstroke[i] = "gold"; if (d & 3) {bdx[i]*=2; bdy[i]/=2;} else {bdx[i]/=2; bdy[i]*=2;}}
	else               {bfill[i] = "black";  bstroke[i] = "white";  if (d & 3) bdx[i] *= 2; else bdy[i] *= 2;}
}

function bullet_reload(i) {
	if (bx[i] >= -border && bx[i] <= canvas.width  + border &&
	    by[i] >= -border && by[i] <= canvas.height + border) return;
	bullet_init(i);
}

function bullet_hit(i, x, y) {
	var _x = bx[i] - x, _y = by[i] - y, _r = r + br[i];
	return _x*_x + _y*_y <= _r*_r;
}

function Train99() {
	ctx.clearRect(0, 0, canvas.width, canvas.height);

	// print fighter track
//	ctx.fillStyle = "red"; 
//	for (var i=0; i<N; i+=3) ctx.fillRect(px[i], py[i], 2, 2);

	// print bullet
	for (var i=0; i<BN; ++i) {
		bx[i] += bdx[i]; by[i] += bdy[i]; bullet_reload(i);
		ctx.beginPath();
		ctx.arc(bx[i], by[i], br[i], 0, 2.0 * Math.PI);
		ctx.fillStyle = bfill[i]; ctx.strokeStyle = bstroke[i];
		ctx.fill(); ctx.stroke();
	}

	// explode message
	if (life == 0) {
		ctx.font = "50pt Verdena";
		ctx.textAlign = "center";
		ctx.textBaseline  = "middle";
		ctx.fillStyle = "red";
		ctx.fillText((clock / 50).toFixed(2), canvas.width/2, canvas.height/2);
		return;
	}
	clock++;

	// fighter new position
	x += dx * speed; y += dy * speed;
	x = Math.min(x, canvas.width - r);  x = Math.max(x, r);
	y = Math.min(y, canvas.height - r); y = Math.max(y, r);

	// set fighter track
	if (!(px[t] == x && py[t] == y)) {
		t = (t + 1) % N; px[t] = x; py[t] = y;
	}

	// check fighter hits bullet
	for (var i=0; i<BN; ++i)
		if (bullet_hit(i, x, y)) {
			life = 0;
			audD.play();
			break;
		}

	// print fighter
	if (dx == -1)     ctx.drawImage(imgL, x - imgL.width / 2, y - imgL.height / 2);
	else if (dx == 0) ctx.drawImage(imgC, x - imgC.width / 2, y - imgC.height / 2);
	else if (dx == 1) ctx.drawImage(imgR, x - imgR.width / 2, y - imgR.height / 2);
}
}();
</script>
<p>遊戲人工智慧。</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/qYluZRwrw9w"></iframe>--></div>
<div class="pre">
用電腦規劃路徑是很常見的事情，
例如汽車的衛星導航，就有路徑規劃功能。
當然這原理也可以套用到瑪利歐身上，
讓瑪利歐變成音速小子。

我猜原理應該是狀態空間搜索，
狀態轉移，就是左鍵、右鍵、跳躍鍵、加速鍵這四個變因了。
然後計算瑪利歐與滑鼠之間的點到點最短路徑。
採用點到點最短路徑而非單源最短路徑，
就可以使用啟發函數，加快演算法速度。

最後只要把滑鼠設定在螢幕右端，
就能達到一直往前衝的效果。

不過他到底是怎麼把瑪利歐弄到電腦平台上的呢？
如果這項技術能夠推廣，肯定可以減少很多玩家的挫折感。
</div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/yZJ1V-zv_gU"></iframe>--></div>
<div class="pre">
使用基因演算法自動找到過關路線。
fitness function的計算方式：
輸入，一連串的動作指令，也就是上下左右AB的組合。
輸出，將關卡實際跑過一遍，以行進距離作為輸出。
由於敵人的出現地點、出現時機都是固定的，
所以fitness function是穩定不變的。
上一篇是即時決定最佳路線，這一篇則是事後決定最佳路線。
</div>
<div class="z"><!--<iframe src="http://player.vimeo.com/video/24250619"></iframe>--></div>
<p>遊戲引擎。</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/V9y60ZZfA9w"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/Kg0yyd5307k"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/71FXoFKYNNw"></iframe>--></div>

</div></div><div class="a"><div class="h">
<p class="b">Automation</p>
</div><div class="c">
<p class="t">Automation</p>
<p><a href="https://en.wikipedia.org/wiki/Automation">自動化技術</a>。跨領域學科，結合了電機、資工。讓機械設備自強不息的學問。維持人類日常生活運作的重要學問。</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/a2LIR4TEiaI"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/_d0LfkIut2M"></iframe>--></div>
<div class="pre">
預先用電腦算好所有解法。
魔術方塊放上去，掃描顏色後，然後按表操課。
最困難的部分反而不是演算法，
而是要組裝出一個旋轉魔術方塊的機械，
以及如何運用手機控制這個機械。
詳細的資料可以參考影片作者的評論。

另外，已經證明出最多20轉就能解開3x3x3魔術方塊。
對證明過程有興趣的話，可以看這個網站：
http://www.cube20.org/

如果你覺得前面那一篇魔術方塊的機械設備不容易取得，
那麼你可以用容易取得一點的材料。
</div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/GH4clQJ3VuA"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/zX09WnGU6ZY"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/1F-VnylkgaI"></iframe>--></div>
<p>Vehicle</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/GKZ1kHIA5TE"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/a9GEfLTbkZA"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/Z-T4jw1oPgA"></iframe>--></div>
<div class="pre">
以前有一陣子好像很流行迷你四驅車。
事實上我們可以在軌道車上面安裝感光元件，
編寫程式，讓軌道車追蹤地面上的標線，朝著預定軌道前進！
最困難的部分就是控制馬達動力、控制方向盤角度，
讓車子順利過彎、不會失控打滑！

然後再加上無線藍芽
讓車子接收腦波訊號
知道我們想跑哪條軌道

然後再加上Steering Behaviors
讓車子可以實施群體戰術

如果加上語音處理
應該就可以像卡通一樣
用喊的讓車子發出絕招

也許哪天可以做到，哈哈！
</div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/UnuoogQvsjA"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/IlmKcohyXG0"></iframe>--></div>
<div class="z"><!--<iframe src="http://embed.ted.com/talks/lang/zh-tw/raffaello_d_andrea_the_astounding_athletic_power_of_quadcopters.html"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/UsOHG-rIcvU"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/VtqYcI2kK4g"></iframe>--></div>
<p>Exoskeleton</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/vORulSVlz9A"></iframe>--></div>
<p class="t">Robotics</p>
<p><a href="http://en.wikipedia.org/wiki/Robotics">機器人學</a>。跨領域學科，結合了許多領域，例如電機、資工、材料、生物等等。困難到了極點、進展十分緩慢的一門學問。</p>
<p>跟計算機科學有關的主題，例如<a href="http://en.wikipedia.org/wiki/Simultaneous_localization_and_mapping">SLAM</a>、<a href="http://en.wikipedia.org/wiki/Inverse_kinematics">Inverse Kinematics</a>、<a href="http://en.wikipedia.org/wiki/Motion_planning">Motion Planning</a>。</p>
<p>台灣的現況是，就連前面章節所列的主題都搞不定了。大家不如直接看鋼彈動畫、玩洛克人過過乾癮吧。</p>
<p><a href="http://www.vccoo.com/a/9prkz">http://www.vccoo.com/a/9prkz</a></p>
<p>Arm</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/tIIJME8-au8"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/O3XyDLbaUmU"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/vgvlP87Ju5Y"></iframe>--></div>
<p>Swarm Robotics</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/YQIMGV5vtd4"></iframe>--></div>
<p>Modular Robotics</p>
<p><a href="http://biorob.epfl.ch/roombots">http://biorob.epfl.ch/roombots</a></p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/gZwTcLeelAY"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/fcradVE9uts"></iframe>--></div>
<p>Biorobotics</p>
<div class="z"><!--<iframe src="http://embed.ted.com/talks/lang/zh-tw/a_robot_that_flies_like_a_bird.html"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/xqMVg5ixhd0"></iframe>--></div>
<p>Humanoid Robotics</p>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/hCaRkyq02go"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/WAZWV0YAqj0"></iframe>--></div>
<div class="z"><!--<iframe src="http://www.youtube.com/embed/XBPZKnrctbo"></iframe>--></div>
<script src="jquery-2.1.3.min.js"></script><script src="jquery.lazyload-any.min.js"></script><script>$('.z').lazyload();</script>
</div></div><script src="h.js"></script></body></html>